{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateFields = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _immutable = require(\"immutable\");\nvar _prepareNameForValidate = require(\"../fields/prepareNameForValidate\");\nvar getListValues = function getListValues(items) {\n  return items.map(function (item) {\n    return item.get('fields').entrySeq().reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n      return acc.set(key, value.getIn(['current', 'value']));\n    }, (0, _immutable.Map)());\n  });\n};\nvar validateItems = function validateItems(items, getAllValues) {\n  return items.map(function (item) {\n    return validateMap(item.get('fields'), getAllValues);\n  }).toArray();\n};\nvar validateMap = function validateMap(fields, getAllValues) {\n  return fields.entrySeq().reduce(function (acc, _ref3) {\n    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n      key = _ref4[0],\n      field = _ref4[1];\n    var value = field.getIn(['current', 'value']);\n    var optional = field.getIn(['initial', 'optional'], false);\n    var _field$getIn = field.getIn(['initial', 'field'], {}),\n      validate = _field$getIn.validate,\n      requiredMessage = _field$getIn.requiredMessage,\n      name = _field$getIn.name;\n    var items = field.get('items');\n    if (items) {\n      acc[key] = validateItems(items, getAllValues);\n      if (!optional && items.size === 0) {\n        acc[key].error = requiredMessage || 'Required';\n      }\n      if (validate) {\n        var error = validate(getListValues(items), (0, _prepareNameForValidate.prepareNameForValidate)(name), getAllValues);\n        if (error) {\n          acc[key].error = error;\n        }\n      }\n      return acc;\n    }\n    if (validate) {\n      var _error = validate(value, (0, _prepareNameForValidate.prepareNameForValidate)(name), getAllValues);\n      if (_error) {\n        acc[key] = _error;\n        return acc;\n      }\n    }\n    if (!optional && (value === undefined || value === '')) {\n      acc[key] = requiredMessage || 'Required';\n    }\n    return acc;\n  }, {});\n};\nvar validateFields = function validateFields(state, getAllValues) {\n  return validateMap(state.get('fields'), getAllValues);\n};\nexports.validateFields = validateFields;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","validateFields","_slicedToArray2","_immutable","_prepareNameForValidate","getListValues","items","map","item","get","entrySeq","reduce","acc","_ref","_ref2","default","key","set","getIn","Map","validateItems","getAllValues","validateMap","toArray","fields","_ref3","_ref4","field","optional","_field$getIn","validate","requiredMessage","name","size","error","prepareNameForValidate","_error","undefined","state"],"sources":["D:/web development/Unzip/App/node_modules/react-hooks-useform/dist/validate/validateFields.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateFields = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _immutable = require(\"immutable\");\n\nvar _prepareNameForValidate = require(\"../fields/prepareNameForValidate\");\n\nvar getListValues = function getListValues(items) {\n  return items.map(function (item) {\n    return item.get('fields').entrySeq().reduce(function (acc, _ref) {\n      var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return acc.set(key, value.getIn(['current', 'value']));\n    }, (0, _immutable.Map)());\n  });\n};\n\nvar validateItems = function validateItems(items, getAllValues) {\n  return items.map(function (item) {\n    return validateMap(item.get('fields'), getAllValues);\n  }).toArray();\n};\n\nvar validateMap = function validateMap(fields, getAllValues) {\n  return fields.entrySeq().reduce(function (acc, _ref3) {\n    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        key = _ref4[0],\n        field = _ref4[1];\n\n    var value = field.getIn(['current', 'value']);\n    var optional = field.getIn(['initial', 'optional'], false);\n\n    var _field$getIn = field.getIn(['initial', 'field'], {}),\n        validate = _field$getIn.validate,\n        requiredMessage = _field$getIn.requiredMessage,\n        name = _field$getIn.name;\n\n    var items = field.get('items');\n\n    if (items) {\n      acc[key] = validateItems(items, getAllValues);\n\n      if (!optional && items.size === 0) {\n        acc[key].error = requiredMessage || 'Required';\n      }\n\n      if (validate) {\n        var error = validate(getListValues(items), (0, _prepareNameForValidate.prepareNameForValidate)(name), getAllValues);\n\n        if (error) {\n          acc[key].error = error;\n        }\n      }\n\n      return acc;\n    }\n\n    if (validate) {\n      var _error = validate(value, (0, _prepareNameForValidate.prepareNameForValidate)(name), getAllValues);\n\n      if (_error) {\n        acc[key] = _error;\n        return acc;\n      }\n    }\n\n    if (!optional && (value === undefined || value === '')) {\n      acc[key] = requiredMessage || 'Required';\n    }\n\n    return acc;\n  }, {});\n};\n\nvar validateFields = function validateFields(state, getAllValues) {\n  return validateMap(state.get('fields'), getAllValues);\n};\n\nexports.validateFields = validateFields;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}