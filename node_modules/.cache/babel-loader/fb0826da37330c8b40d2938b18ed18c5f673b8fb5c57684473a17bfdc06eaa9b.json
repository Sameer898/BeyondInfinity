{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFieldPath = exports.fieldReducer = exports.initState = exports.listenersKey = exports.fieldsKey = exports.removedFieldsKey = exports.actions = exports.actionTypes = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _immutable = require(\"immutable\");\nvar _syncListIndexes = require(\"./syncListIndexes\");\nvar _mergeValidationResults = require(\"./mergeValidationResults\");\nvar _mergeFormValues = require(\"../helpers/mergeFormValues\");\nvar _resolveLabel = require(\"./resolveLabel\");\nvar actionTypes = {\n  insertField: 'insertField',\n  removeField: 'removeField',\n  addListItem: 'addListItem',\n  removeListItem: 'removeListItem',\n  updateListIndex: 'updateListIndex',\n  reset: 'reset',\n  touched: 'touched',\n  updateValue: 'updateValue',\n  updateList: 'updateList',\n  updateFieldDefinition: 'updateFieldDefinition',\n  validateAll: 'validateAll',\n  validationResult: 'validationResult',\n  addListener: 'addListener',\n  removeListener: 'removeListener'\n};\nexports.actionTypes = actionTypes;\nvar actions = {\n  insertField: function insertField(fieldName, fieldState) {\n    return {\n      type: actionTypes.insertField,\n      fieldName: fieldName,\n      payload: fieldState\n    };\n  },\n  removeField: function removeField(fieldName) {\n    return {\n      type: actionTypes.removeField,\n      fieldName: fieldName\n    };\n  },\n  addListItem: function addListItem(fieldName, fieldState) {\n    return {\n      type: actionTypes.addListItem,\n      fieldName: fieldName,\n      payload: fieldState\n    };\n  },\n  removeListItem: function removeListItem(fieldName, index) {\n    return {\n      type: actionTypes.removeListItem,\n      fieldName: fieldName,\n      payload: index\n    };\n  },\n  updateListIndex: function updateListIndex(fieldName, fromIndex, toIndex) {\n    return {\n      type: actionTypes.updateListIndex,\n      fieldName: fieldName,\n      payload: {\n        fromIndex: fromIndex,\n        toIndex: toIndex\n      }\n    };\n  },\n  reset: function reset(state) {\n    return {\n      type: actionTypes.reset,\n      payload: state\n    };\n  },\n  touched: function touched(fieldName) {\n    return {\n      type: actionTypes.touched,\n      fieldName: fieldName\n    };\n  },\n  updateValue: function updateValue(fieldName, value) {\n    return {\n      type: actionTypes.updateValue,\n      fieldName: fieldName,\n      payload: value\n    };\n  },\n  updateList: function updateList(fieldName, items) {\n    return {\n      type: actionTypes.updateList,\n      fieldName: fieldName,\n      payload: items\n    };\n  },\n  updateFieldDefinition: function updateFieldDefinition(fieldName, payload) {\n    return {\n      type: actionTypes.updateFieldDefinition,\n      fieldName: fieldName,\n      payload: payload\n    };\n  },\n  validateAll: function validateAll(errors) {\n    return {\n      type: actionTypes.validateAll,\n      payload: errors\n    };\n  },\n  validationResult: function validationResult(fieldName, error, helperText) {\n    return {\n      type: actionTypes.validationResult,\n      fieldName: fieldName,\n      payload: {\n        error: error,\n        helperText: helperText\n      }\n    };\n  },\n  addListener: function addListener(fieldName, listener) {\n    return {\n      type: actionTypes.addListener,\n      fieldName: fieldName,\n      payload: listener\n    };\n  },\n  removeListener: function removeListener(fieldName, listener) {\n    return {\n      type: actionTypes.removeListener,\n      fieldName: fieldName,\n      payload: listener\n    };\n  }\n};\nexports.actions = actions;\nvar removedFieldsKey = 'removedFields';\nexports.removedFieldsKey = removedFieldsKey;\nvar fieldsKey = 'fields';\nexports.fieldsKey = fieldsKey;\nvar listenersKey = 'listeners';\nexports.listenersKey = listenersKey;\nvar initState = function initState(state) {\n  return state;\n};\nexports.initState = initState;\nvar current = 'current';\nvar fieldReducer = function fieldReducer(state, _ref) {\n  var _handlers;\n  var type = _ref.type,\n    _ref$fieldName = _ref.fieldName,\n    fieldName = _ref$fieldName === void 0 ? '' : _ref$fieldName,\n    payload = _ref.payload;\n  var fieldPath = getFieldPath(fieldName);\n  var handlers = (_handlers = {}, (0, _defineProperty2.default)(_handlers, actionTypes.updateValue, function (value) {\n    setTimeout(function () {\n      var listenerFieldKey = fieldName.replace(/items\\.[\\d]+\\.fields/, '').replace(/\\.\\./, '.');\n      var previous = state.getIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'value']), '');\n      state.getIn([listenersKey, listenerFieldKey], (0, _immutable.List)()).forEach(function (listener) {\n        return listener(value, previous, state.get('formTools').current);\n      });\n    });\n    var newState = state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'value']), value).setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'pristine']), value == state.getIn([fieldsKey, fieldName, 'initial', 'value']));\n    setTimeout(function () {\n      var onFormChange = state.get('onFormChange');\n      if (onFormChange && typeof onFormChange === 'function') {\n        onFormChange((0, _mergeFormValues.mergeFormValues)(newState, (0, _immutable.Map)()));\n      }\n    });\n    return newState;\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.updateList, function (items) {\n    var newState = state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items']), items).setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'pristine']), false);\n    return newState;\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.touched, function () {\n    return state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'touched']), true);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.validationResult, function (_ref2) {\n    var error = _ref2.error,\n      helperText = _ref2.helperText;\n    return state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'error']), error).setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'helperText']), helperText || state.getIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['initial', 'field'])).helperText);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.validateAll, function (errors) {\n    return (0, _mergeValidationResults.mergeValidationResults)(state, errors, true);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.insertField, function (fieldState) {\n    return state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath)), fieldState).deleteIn([removedFieldsKey, state.get(removedFieldsKey, (0, _immutable.List)()).indexOf(fieldName)]);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.removeField, function () {\n    return state.deleteIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath))).set(removedFieldsKey, state.get(removedFieldsKey, (0, _immutable.List)()).push(fieldName));\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.addListItem, function (itemState) {\n    var path = [fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items']);\n    return state.updateIn((0, _toConsumableArray2.default)(path), (0, _immutable.List)(), function (prevState) {\n      return prevState.push(itemState);\n    });\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.removeListItem, function (index) {\n    return (0, _syncListIndexes.syncListIndexes)(state.deleteIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items', index])), fieldsKey, fieldPath);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.updateListIndex, function (_ref3) {\n    var fromIndex = _ref3.fromIndex,\n      toIndex = _ref3.toIndex;\n    var path = [fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items']);\n    var item = state.getIn((0, _toConsumableArray2.default)(path).concat([fromIndex]));\n    return (0, _syncListIndexes.syncListIndexes)(state.deleteIn((0, _toConsumableArray2.default)(path).concat([fromIndex])).updateIn(path, function (items) {\n      return items.insert(toIndex, item);\n    }), fieldsKey, fieldPath);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.addListener, function (listener) {\n    return state.updateIn([listenersKey, fieldName], (0, _immutable.List)(), function (listeners) {\n      return listeners.push(listener);\n    });\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.removeListener, function (listener) {\n    return state.updateIn([listenersKey, fieldName], (0, _immutable.List)(), function (listeners) {\n      var index = listeners.indexOf(listener);\n      return index > -1 ? listeners.delete(index) : listeners;\n    });\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.updateFieldDefinition, function (_ref4) {\n    var definition = _ref4.definition,\n      options = _ref4.options;\n    var path = [fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['initial']);\n    var initialDef = state.getIn((0, _toConsumableArray2.default)(path).concat(['field']), {});\n    var update = (0, _immutable.Map)({\n      optional: state.getIn((0, _toConsumableArray2.default)(path).concat(['optional']))\n    });\n    if (definition.optional !== undefined) update = update.set('optional', definition.optional);\n    update = update.set('label', (0, _resolveLabel.resolveLabel)((0, _objectSpread2.default)({}, initialDef, definition), options));\n    return state.mergeIn(path, update);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.reset, function (state) {\n    return state;\n  }), _handlers);\n  var handler = handlers[type];\n  if (handler) {\n    var lastPath = fieldPath;\n    if (!areArraysEqual(state.get('lastPath', []), lastPath)) {\n      lastPath = [];\n    }\n    var trackLastPath = type !== actionTypes.validationResult && type !== actionTypes.reset;\n    return handler(payload).set('lastPath', trackLastPath ? lastPath : []);\n  }\n  return state;\n};\nexports.fieldReducer = fieldReducer;\nvar getFieldPath = function getFieldPath(fieldName) {\n  var prev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var fieldPath = [fieldName];\n  var match = fieldName.match(/.items.(\\d+)./);\n  if (match) {\n    var firstField = fieldName.substr(0, match.index);\n    var rest = fieldName.match(/.items.\\d+.fields.(.*)$/)[1];\n    if (rest.match(/.items.(\\d+)./)) {\n      return getFieldPath(rest, [firstField, 'items', match[1], 'fields']);\n    }\n    fieldPath = (0, _toConsumableArray2.default)(prev).concat([firstField, 'items', match[1], 'fields', rest]);\n  }\n  return fieldPath;\n};\nexports.getFieldPath = getFieldPath;\nvar areArraysEqual = function areArraysEqual(a, b) {\n  if (a.length !== b.length) return false;\n  var same = true;\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      same = false;\n    }\n  }\n  return same;\n};","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","getFieldPath","fieldReducer","initState","listenersKey","fieldsKey","removedFieldsKey","actions","actionTypes","_defineProperty2","_objectSpread2","_toConsumableArray2","_immutable","_syncListIndexes","_mergeValidationResults","_mergeFormValues","_resolveLabel","insertField","removeField","addListItem","removeListItem","updateListIndex","reset","touched","updateValue","updateList","updateFieldDefinition","validateAll","validationResult","addListener","removeListener","fieldName","fieldState","type","payload","index","fromIndex","toIndex","state","items","errors","error","helperText","listener","current","_ref","_handlers","_ref$fieldName","fieldPath","handlers","default","setTimeout","listenerFieldKey","replace","previous","getIn","concat","List","forEach","get","newState","setIn","onFormChange","mergeFormValues","Map","_ref2","mergeValidationResults","deleteIn","indexOf","set","push","itemState","path","updateIn","prevState","syncListIndexes","_ref3","item","insert","listeners","delete","_ref4","definition","options","initialDef","update","optional","undefined","resolveLabel","mergeIn","handler","lastPath","areArraysEqual","trackLastPath","prev","arguments","length","match","firstField","substr","rest","a","b","same","i"],"sources":["D:/web development/Unzip/App/node_modules/react-hooks-useform/dist/reducer/fieldReducer.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFieldPath = exports.fieldReducer = exports.initState = exports.listenersKey = exports.fieldsKey = exports.removedFieldsKey = exports.actions = exports.actionTypes = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _immutable = require(\"immutable\");\n\nvar _syncListIndexes = require(\"./syncListIndexes\");\n\nvar _mergeValidationResults = require(\"./mergeValidationResults\");\n\nvar _mergeFormValues = require(\"../helpers/mergeFormValues\");\n\nvar _resolveLabel = require(\"./resolveLabel\");\n\nvar actionTypes = {\n  insertField: 'insertField',\n  removeField: 'removeField',\n  addListItem: 'addListItem',\n  removeListItem: 'removeListItem',\n  updateListIndex: 'updateListIndex',\n  reset: 'reset',\n  touched: 'touched',\n  updateValue: 'updateValue',\n  updateList: 'updateList',\n  updateFieldDefinition: 'updateFieldDefinition',\n  validateAll: 'validateAll',\n  validationResult: 'validationResult',\n  addListener: 'addListener',\n  removeListener: 'removeListener'\n};\nexports.actionTypes = actionTypes;\nvar actions = {\n  insertField: function insertField(fieldName, fieldState) {\n    return {\n      type: actionTypes.insertField,\n      fieldName: fieldName,\n      payload: fieldState\n    };\n  },\n  removeField: function removeField(fieldName) {\n    return {\n      type: actionTypes.removeField,\n      fieldName: fieldName\n    };\n  },\n  addListItem: function addListItem(fieldName, fieldState) {\n    return {\n      type: actionTypes.addListItem,\n      fieldName: fieldName,\n      payload: fieldState\n    };\n  },\n  removeListItem: function removeListItem(fieldName, index) {\n    return {\n      type: actionTypes.removeListItem,\n      fieldName: fieldName,\n      payload: index\n    };\n  },\n  updateListIndex: function updateListIndex(fieldName, fromIndex, toIndex) {\n    return {\n      type: actionTypes.updateListIndex,\n      fieldName: fieldName,\n      payload: {\n        fromIndex: fromIndex,\n        toIndex: toIndex\n      }\n    };\n  },\n  reset: function reset(state) {\n    return {\n      type: actionTypes.reset,\n      payload: state\n    };\n  },\n  touched: function touched(fieldName) {\n    return {\n      type: actionTypes.touched,\n      fieldName: fieldName\n    };\n  },\n  updateValue: function updateValue(fieldName, value) {\n    return {\n      type: actionTypes.updateValue,\n      fieldName: fieldName,\n      payload: value\n    };\n  },\n  updateList: function updateList(fieldName, items) {\n    return {\n      type: actionTypes.updateList,\n      fieldName: fieldName,\n      payload: items\n    };\n  },\n  updateFieldDefinition: function updateFieldDefinition(fieldName, payload) {\n    return {\n      type: actionTypes.updateFieldDefinition,\n      fieldName: fieldName,\n      payload: payload\n    };\n  },\n  validateAll: function validateAll(errors) {\n    return {\n      type: actionTypes.validateAll,\n      payload: errors\n    };\n  },\n  validationResult: function validationResult(fieldName, error, helperText) {\n    return {\n      type: actionTypes.validationResult,\n      fieldName: fieldName,\n      payload: {\n        error: error,\n        helperText: helperText\n      }\n    };\n  },\n  addListener: function addListener(fieldName, listener) {\n    return {\n      type: actionTypes.addListener,\n      fieldName: fieldName,\n      payload: listener\n    };\n  },\n  removeListener: function removeListener(fieldName, listener) {\n    return {\n      type: actionTypes.removeListener,\n      fieldName: fieldName,\n      payload: listener\n    };\n  }\n};\nexports.actions = actions;\nvar removedFieldsKey = 'removedFields';\nexports.removedFieldsKey = removedFieldsKey;\nvar fieldsKey = 'fields';\nexports.fieldsKey = fieldsKey;\nvar listenersKey = 'listeners';\nexports.listenersKey = listenersKey;\n\nvar initState = function initState(state) {\n  return state;\n};\n\nexports.initState = initState;\nvar current = 'current';\n\nvar fieldReducer = function fieldReducer(state, _ref) {\n  var _handlers;\n\n  var type = _ref.type,\n      _ref$fieldName = _ref.fieldName,\n      fieldName = _ref$fieldName === void 0 ? '' : _ref$fieldName,\n      payload = _ref.payload;\n  var fieldPath = getFieldPath(fieldName);\n  var handlers = (_handlers = {}, (0, _defineProperty2.default)(_handlers, actionTypes.updateValue, function (value) {\n    setTimeout(function () {\n      var listenerFieldKey = fieldName.replace(/items\\.[\\d]+\\.fields/, '').replace(/\\.\\./, '.');\n      var previous = state.getIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'value']), '');\n      state.getIn([listenersKey, listenerFieldKey], (0, _immutable.List)()).forEach(function (listener) {\n        return listener(value, previous, state.get('formTools').current);\n      });\n    });\n    var newState = state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'value']), value).setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'pristine']), value == state.getIn([fieldsKey, fieldName, 'initial', 'value']));\n    setTimeout(function () {\n      var onFormChange = state.get('onFormChange');\n\n      if (onFormChange && typeof onFormChange === 'function') {\n        onFormChange((0, _mergeFormValues.mergeFormValues)(newState, (0, _immutable.Map)()));\n      }\n    });\n    return newState;\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.updateList, function (items) {\n    var newState = state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items']), items).setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'pristine']), false);\n    return newState;\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.touched, function () {\n    return state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'touched']), true);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.validationResult, function (_ref2) {\n    var error = _ref2.error,\n        helperText = _ref2.helperText;\n    return state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'error']), error).setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), [current, 'helperText']), helperText || state.getIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['initial', 'field'])).helperText);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.validateAll, function (errors) {\n    return (0, _mergeValidationResults.mergeValidationResults)(state, errors, true);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.insertField, function (fieldState) {\n    return state.setIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath)), fieldState).deleteIn([removedFieldsKey, state.get(removedFieldsKey, (0, _immutable.List)()).indexOf(fieldName)]);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.removeField, function () {\n    return state.deleteIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath))).set(removedFieldsKey, state.get(removedFieldsKey, (0, _immutable.List)()).push(fieldName));\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.addListItem, function (itemState) {\n    var path = [fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items']);\n    return state.updateIn((0, _toConsumableArray2.default)(path), (0, _immutable.List)(), function (prevState) {\n      return prevState.push(itemState);\n    });\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.removeListItem, function (index) {\n    return (0, _syncListIndexes.syncListIndexes)(state.deleteIn([fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items', index])), fieldsKey, fieldPath);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.updateListIndex, function (_ref3) {\n    var fromIndex = _ref3.fromIndex,\n        toIndex = _ref3.toIndex;\n    var path = [fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['items']);\n    var item = state.getIn((0, _toConsumableArray2.default)(path).concat([fromIndex]));\n    return (0, _syncListIndexes.syncListIndexes)(state.deleteIn((0, _toConsumableArray2.default)(path).concat([fromIndex])).updateIn(path, function (items) {\n      return items.insert(toIndex, item);\n    }), fieldsKey, fieldPath);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.addListener, function (listener) {\n    return state.updateIn([listenersKey, fieldName], (0, _immutable.List)(), function (listeners) {\n      return listeners.push(listener);\n    });\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.removeListener, function (listener) {\n    return state.updateIn([listenersKey, fieldName], (0, _immutable.List)(), function (listeners) {\n      var index = listeners.indexOf(listener);\n      return index > -1 ? listeners.delete(index) : listeners;\n    });\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.updateFieldDefinition, function (_ref4) {\n    var definition = _ref4.definition,\n        options = _ref4.options;\n    var path = [fieldsKey].concat((0, _toConsumableArray2.default)(fieldPath), ['initial']);\n    var initialDef = state.getIn((0, _toConsumableArray2.default)(path).concat(['field']), {});\n    var update = (0, _immutable.Map)({\n      optional: state.getIn((0, _toConsumableArray2.default)(path).concat(['optional']))\n    });\n    if (definition.optional !== undefined) update = update.set('optional', definition.optional);\n    update = update.set('label', (0, _resolveLabel.resolveLabel)((0, _objectSpread2.default)({}, initialDef, definition), options));\n    return state.mergeIn(path, update);\n  }), (0, _defineProperty2.default)(_handlers, actionTypes.reset, function (state) {\n    return state;\n  }), _handlers);\n  var handler = handlers[type];\n\n  if (handler) {\n    var lastPath = fieldPath;\n\n    if (!areArraysEqual(state.get('lastPath', []), lastPath)) {\n      lastPath = [];\n    }\n\n    var trackLastPath = type !== actionTypes.validationResult && type !== actionTypes.reset;\n    return handler(payload).set('lastPath', trackLastPath ? lastPath : []);\n  }\n\n  return state;\n};\n\nexports.fieldReducer = fieldReducer;\n\nvar getFieldPath = function getFieldPath(fieldName) {\n  var prev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var fieldPath = [fieldName];\n  var match = fieldName.match(/.items.(\\d+)./);\n\n  if (match) {\n    var firstField = fieldName.substr(0, match.index);\n    var rest = fieldName.match(/.items.\\d+.fields.(.*)$/)[1];\n\n    if (rest.match(/.items.(\\d+)./)) {\n      return getFieldPath(rest, [firstField, 'items', match[1], 'fields']);\n    }\n\n    fieldPath = (0, _toConsumableArray2.default)(prev).concat([firstField, 'items', match[1], 'fields', rest]);\n  }\n\n  return fieldPath;\n};\n\nexports.getFieldPath = getFieldPath;\n\nvar areArraysEqual = function areArraysEqual(a, b) {\n  if (a.length !== b.length) return false;\n  var same = true;\n\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      same = false;\n    }\n  }\n\n  return same;\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}