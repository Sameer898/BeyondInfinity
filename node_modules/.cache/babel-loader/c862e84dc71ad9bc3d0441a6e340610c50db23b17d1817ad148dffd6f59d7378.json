{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergeValidationResults = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _immutable = require(\"immutable\");\nvar getError = function getError(errors, key) {\n  var error = errors[key];\n  if (typeof error === 'string') return error;\n  if (Array.isArray(error) && error.error) {\n    return error.error;\n  }\n  return '';\n};\nvar updateItems = function updateItems(list, errorObj, force) {\n  var errors = errorObj || {};\n  return list.map(function (listItem, index) {\n    var error = Array.isArray(errors) ? errors[index] : errors;\n    return listItem.update('fields', (0, _immutable.Map)(), function (fields) {\n      return updateMap(fields, error, force);\n    });\n  });\n};\nvar updateMap = function updateMap(fields, errorObj, force) {\n  var errors = errorObj || {};\n  return fields.entrySeq().reduce(function (acc, _ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n      key = _ref2[0],\n      field = _ref2[1];\n    var next = field.get('items') ? field.update('items', (0, _immutable.List)(), function (items) {\n      return updateItems(items, errors[key], force);\n    }) : field;\n    var error = getError(errors, key);\n    var touched = next.getIn(['current', 'touched'], force) || force;\n    if (touched) {\n      return acc.mergeIn([key], next).setIn([key, 'current', 'error'], Boolean(error)).setIn([key, 'current', 'helperText'], error);\n    }\n    return acc.mergeIn([key], next);\n  }, (0, _immutable.Map)());\n};\nvar mergeValidationResults = function mergeValidationResults(state) {\n  var errors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return state.update('fields', (0, _immutable.Map)(), function (fields) {\n    return updateMap(fields, errors, force);\n  });\n};\nexports.mergeValidationResults = mergeValidationResults;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","mergeValidationResults","_slicedToArray2","_immutable","getError","errors","key","error","Array","isArray","updateItems","list","errorObj","force","map","listItem","index","update","Map","fields","updateMap","entrySeq","reduce","acc","_ref","_ref2","default","field","next","get","List","items","touched","getIn","mergeIn","setIn","Boolean","state","arguments","length","undefined"],"sources":["D:/web development/Unzip/App/node_modules/react-hooks-useform/dist/reducer/mergeValidationResults.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergeValidationResults = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _immutable = require(\"immutable\");\n\nvar getError = function getError(errors, key) {\n  var error = errors[key];\n  if (typeof error === 'string') return error;\n\n  if (Array.isArray(error) && error.error) {\n    return error.error;\n  }\n\n  return '';\n};\n\nvar updateItems = function updateItems(list, errorObj, force) {\n  var errors = errorObj || {};\n  return list.map(function (listItem, index) {\n    var error = Array.isArray(errors) ? errors[index] : errors;\n    return listItem.update('fields', (0, _immutable.Map)(), function (fields) {\n      return updateMap(fields, error, force);\n    });\n  });\n};\n\nvar updateMap = function updateMap(fields, errorObj, force) {\n  var errors = errorObj || {};\n  return fields.entrySeq().reduce(function (acc, _ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        key = _ref2[0],\n        field = _ref2[1];\n\n    var next = field.get('items') ? field.update('items', (0, _immutable.List)(), function (items) {\n      return updateItems(items, errors[key], force);\n    }) : field;\n    var error = getError(errors, key);\n    var touched = next.getIn(['current', 'touched'], force) || force;\n\n    if (touched) {\n      return acc.mergeIn([key], next).setIn([key, 'current', 'error'], Boolean(error)).setIn([key, 'current', 'helperText'], error);\n    }\n\n    return acc.mergeIn([key], next);\n  }, (0, _immutable.Map)());\n};\n\nvar mergeValidationResults = function mergeValidationResults(state) {\n  var errors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return state.update('fields', (0, _immutable.Map)(), function (fields) {\n    return updateMap(fields, errors, force);\n  });\n};\n\nexports.mergeValidationResults = mergeValidationResults;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}