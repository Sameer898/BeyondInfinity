{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getInitialState = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _immutable = require(\"immutable\");\nvar _fieldReducer = require(\"./fieldReducer\");\nvar _getFieldState = require(\"./getFieldState\");\n\n/**\n * @param fields {Array<import(\"..\").IFormFieldArgs>}\n */\nvar getInitialState = function getInitialState(fields) {\n  var initialValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _immutable.Map)();\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var formTools = arguments.length > 3 ? arguments[3] : undefined;\n  var fieldMap = fields.reduce(function (acc, field) {\n    var result = acc.set(field.name, (0, _getFieldState.getFieldState)(field, initialValues, options));\n    return result;\n  }, (0, _immutable.Map)());\n  var listeners = getListeners(options.listeners);\n  var withFormChange = options.onFormChange ? (0, _immutable.fromJS)({\n    onFormChange: options.onFormChange\n  }) : (0, _immutable.Map)();\n  return (0, _immutable.fromJS)((0, _defineProperty2.default)({}, _fieldReducer.fieldsKey, fieldMap)).merge(listeners).merge(withFormChange).set('formTools', formTools);\n};\nexports.getInitialState = getInitialState;\nvar getListeners = function getListeners() {\n  var listeners = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.entries(listeners).reduce(function (acc, _ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n      fieldName = _ref2[0],\n      value = _ref2[1];\n    return acc.updateIn([_fieldReducer.listenersKey, fieldName], (0, _immutable.List)(), function (current) {\n      return Array.isArray(value) ? current.concat(value) : current.push(value);\n    });\n  }, (0, _immutable.Map)());\n};","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","getInitialState","_slicedToArray2","_defineProperty2","_immutable","_fieldReducer","_getFieldState","fields","initialValues","arguments","length","undefined","Map","options","formTools","fieldMap","reduce","acc","field","result","set","name","getFieldState","listeners","getListeners","withFormChange","onFormChange","fromJS","default","fieldsKey","merge","entries","_ref","_ref2","fieldName","updateIn","listenersKey","List","current","Array","isArray","concat","push"],"sources":["D:/web development/Unzip/App/node_modules/react-hooks-useform/dist/reducer/getInitialState.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getInitialState = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _immutable = require(\"immutable\");\n\nvar _fieldReducer = require(\"./fieldReducer\");\n\nvar _getFieldState = require(\"./getFieldState\");\n\n/**\n * @param fields {Array<import(\"..\").IFormFieldArgs>}\n */\nvar getInitialState = function getInitialState(fields) {\n  var initialValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (0, _immutable.Map)();\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var formTools = arguments.length > 3 ? arguments[3] : undefined;\n  var fieldMap = fields.reduce(function (acc, field) {\n    var result = acc.set(field.name, (0, _getFieldState.getFieldState)(field, initialValues, options));\n    return result;\n  }, (0, _immutable.Map)());\n  var listeners = getListeners(options.listeners);\n  var withFormChange = options.onFormChange ? (0, _immutable.fromJS)({\n    onFormChange: options.onFormChange\n  }) : (0, _immutable.Map)();\n  return (0, _immutable.fromJS)((0, _defineProperty2.default)({}, _fieldReducer.fieldsKey, fieldMap)).merge(listeners).merge(withFormChange).set('formTools', formTools);\n};\n\nexports.getInitialState = getInitialState;\n\nvar getListeners = function getListeners() {\n  var listeners = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.entries(listeners).reduce(function (acc, _ref) {\n    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        fieldName = _ref2[0],\n        value = _ref2[1];\n\n    return acc.updateIn([_fieldReducer.listenersKey, fieldName], (0, _immutable.List)(), function (current) {\n      return Array.isArray(value) ? current.concat(value) : current.push(value);\n    });\n  }, (0, _immutable.Map)());\n};"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AAEpFC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,eAAe,GAAG,KAAK,CAAC;AAEhC,IAAIC,eAAe,GAAGP,sBAAsB,CAACC,OAAO,CAAC,sCAAsC,CAAC,CAAC;AAE7F,IAAIO,gBAAgB,GAAGR,sBAAsB,CAACC,OAAO,CAAC,uCAAuC,CAAC,CAAC;AAE/F,IAAIQ,UAAU,GAAGR,OAAO,CAAC,WAAW,CAAC;AAErC,IAAIS,aAAa,GAAGT,OAAO,CAAC,gBAAgB,CAAC;AAE7C,IAAIU,cAAc,GAAGV,OAAO,CAAC,iBAAiB,CAAC;;AAE/C;AACA;AACA;AACA,IAAIK,eAAe,GAAG,SAASA,eAAeA,CAACM,MAAM,EAAE;EACrD,IAAIC,aAAa,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEL,UAAU,CAACQ,GAAG,EAAE,CAAC;EAC7G,IAAIC,OAAO,GAAGJ,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACpF,IAAIK,SAAS,GAAGL,SAAS,CAACC,MAAM,GAAG,CAAC,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAGE,SAAS;EAC/D,IAAII,QAAQ,GAAGR,MAAM,CAACS,MAAM,CAAC,UAAUC,GAAG,EAAEC,KAAK,EAAE;IACjD,IAAIC,MAAM,GAAGF,GAAG,CAACG,GAAG,CAACF,KAAK,CAACG,IAAI,EAAE,CAAC,CAAC,EAAEf,cAAc,CAACgB,aAAa,EAAEJ,KAAK,EAAEV,aAAa,EAAEK,OAAO,CAAC,CAAC;IAClG,OAAOM,MAAM;EACf,CAAC,EAAE,CAAC,CAAC,EAAEf,UAAU,CAACQ,GAAG,EAAE,CAAC,CAAC;EACzB,IAAIW,SAAS,GAAGC,YAAY,CAACX,OAAO,CAACU,SAAS,CAAC;EAC/C,IAAIE,cAAc,GAAGZ,OAAO,CAACa,YAAY,GAAG,CAAC,CAAC,EAAEtB,UAAU,CAACuB,MAAM,EAAE;IACjED,YAAY,EAAEb,OAAO,CAACa;EACxB,CAAC,CAAC,GAAG,CAAC,CAAC,EAAEtB,UAAU,CAACQ,GAAG,EAAE,CAAC;EAC1B,OAAO,CAAC,CAAC,EAAER,UAAU,CAACuB,MAAM,EAAE,CAAC,CAAC,EAAExB,gBAAgB,CAACyB,OAAO,EAAE,CAAC,CAAC,EAAEvB,aAAa,CAACwB,SAAS,EAAEd,QAAQ,CAAC,CAAC,CAACe,KAAK,CAACP,SAAS,CAAC,CAACO,KAAK,CAACL,cAAc,CAAC,CAACL,GAAG,CAAC,WAAW,EAAEN,SAAS,CAAC;AACxK,CAAC;AAEDf,OAAO,CAACE,eAAe,GAAGA,eAAe;AAEzC,IAAIuB,YAAY,GAAG,SAASA,YAAYA,CAAA,EAAG;EACzC,IAAID,SAAS,GAAGd,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;EACtF,OAAOZ,MAAM,CAACkC,OAAO,CAACR,SAAS,CAAC,CAACP,MAAM,CAAC,UAAUC,GAAG,EAAEe,IAAI,EAAE;IAC3D,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE/B,eAAe,CAAC0B,OAAO,EAAEI,IAAI,EAAE,CAAC,CAAC;MAC7CE,SAAS,GAAGD,KAAK,CAAC,CAAC,CAAC;MACpBjC,KAAK,GAAGiC,KAAK,CAAC,CAAC,CAAC;IAEpB,OAAOhB,GAAG,CAACkB,QAAQ,CAAC,CAAC9B,aAAa,CAAC+B,YAAY,EAAEF,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE9B,UAAU,CAACiC,IAAI,EAAE,CAAC,EAAE,UAAUC,OAAO,EAAE;MACtG,OAAOC,KAAK,CAACC,OAAO,CAACxC,KAAK,CAAC,GAAGsC,OAAO,CAACG,MAAM,CAACzC,KAAK,CAAC,GAAGsC,OAAO,CAACI,IAAI,CAAC1C,KAAK,CAAC;IAC3E,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC,CAAC,EAAEI,UAAU,CAACQ,GAAG,EAAE,CAAC,CAAC;AAC3B,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}